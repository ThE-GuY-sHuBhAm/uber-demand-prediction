schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 80dd3ebe9993387b099ed4b6f755cb3a
      size: 3514
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 7b346e0811ce5903cafc9f86dd4e2a03
      size: 4691
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 2cfd90e36895ee16767c062b2b8eb884
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: d0edba94b176dea9f7d5c647fef3eaa9
      size: 919
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: bb7e9a7f324d3fc07adc3b1ee1b69c0f
      size: 2467
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./src/models/train.py
      hash: md5
      md5: 3e0ab66e3b0b5808ae51e4ef7b97731b
      size: 2239
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 1ec553afb8e0ce87ecfeb223a188c2c3
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 923052bf86ecfcc7ea9314a9c92493ff
      size: 2169
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./models/encoder.joblib
      hash: md5
      md5: 1ec553afb8e0ce87ecfeb223a188c2c3
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 923052bf86ecfcc7ea9314a9c92493ff
      size: 2169
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 86ed5f057f9a0abf63b5423f0f0ddf1c
      size: 4265
    outs:
    - path: ./run_information.json
      hash: md5
      md5: e3d2227c97ace2ca9e992591f0c93787
      size: 246
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: e3d2227c97ace2ca9e992591f0c93787
      size: 246
    - path: ./src/models/register_model.py
      hash: md5
      md5: fdddfc43a00be0e3de9e8b7d260c95ba
      size: 2429
